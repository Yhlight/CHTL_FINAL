// This is a test CHTL file.

[Template] @Var MyColors {
    primary: "red";
    secondary: "blue";
}

[Template] @Style BaseStyle {
    font-family: "Arial";
    font-size: "16px";
    color: "black";
}

[Template] @Style InheritedStyle {
    @Style BaseStyle;
    color: "blue"; // Override base
}

[Template] @Element BaseBox {
    p { text { "This is from the base box." } }
}

[Template] @Element InheritedBox {
    h2 { text { "Title from Inherited Box" } }
    @Element BaseBox;
    p { text { "This is also from the inherited box." } }
}

[Custom] @Element MyComponent {
    div {
        h3 { text { "Title" } }
    }
}

[Custom] @Element CustomCard {
    container {
        id: "default-card";
        header {
            class: "card-header";
            style {
                background-color: "#eee";
                padding: "10px";
            }
            text { "Default Header" }
        }
        content {
            class: "card-content";
            style {
                padding: "15px";
            }
            text { "Default content." }
        }
    }
}

// --- Test Cases for [Custom] @Style ---
[Custom] @Style CardStyle {
    border: "1px solid black";
    border-radius; // valueless property
    box-shadow: "5px 5px 10px #ccc";
    background-color: "white";
}

// --- Advanced Specialization Tests ---
[Custom] @Element AdvancedWidget {
    widget-container {
        header { text { "Header" } }
        content {
            div { id: "div-0"; }
            div { id: "div-1"; }
            span { id: "span-0"; }
        }
        footer { text { "Footer" } }
    }
}


html {
    body {
        // --- Testing Custom Elements ---
        @Element MyComponent;
        @Element CustomCard {
            header {
                class: "special-header";
                style { color: "purple"; }
            }
            content {
                text { "Some extra text added during specialization." }
            }
        }

        // --- Testing Custom Style Specialization ---
        div {
            id: "card1";
            style {
                @Style CardStyle { border-radius: "8px"; }
            }
        }
        div {
            id: "card2";
            style {
                @Style CardStyle {
                    border-radius: "4px";
                    border: "2px dotted blue";
                }
            }
        }
        div {
            id: "card3";
            style {
                @Style CardStyle {
                    border-radius: "12px";
                    delete box-shadow;
                }
            }
        }

        // --- Testing Advanced Specialization ---
        @Element AdvancedWidget {
            div[1] { style { border: "2px solid green"; } }
            delete span;
            delete footer;
            insert after header { hr {} }
            insert at bottom { p { text { "Appended at the very bottom." } } }
        }

        // --- Testing Advanced Style Blocks ---
        div {
            style {
                // Test auto class generation
                .widget {
                    padding: "10px";
                    background-color: "lightblue";
                }

                // Test contextual '&' selector
                &:hover {
                    background-color: "blue";
                }
            }
            text { "This is a widget." }
        }
        div {
            id: "my-thing"; // Pre-existing ID
            style {
                // Test auto ID generation (should be ignored due to existing id)
                #thing {
                    border: "1px solid red";
                }

                // Test '&' with pre-existing ID
                &:hover {
                    border-color: "green";
                }
            }
        }
    }
}
