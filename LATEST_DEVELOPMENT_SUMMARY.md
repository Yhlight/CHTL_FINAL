# CHTLé¡¹ç›®æœ€æ–°å¼€å‘æ€»ç»“

## é¡¹ç›®æ¦‚è¿°

CHTLé¡¹ç›®ä¸¥æ ¼æŒ‰ç…§CHTL.mdæ–‡æ¡£è§„èŒƒè¿›è¡Œå¼€å‘ï¼Œç°å·²å®ç°äº†ç»å¤§éƒ¨åˆ†æ ¸å¿ƒåŠŸèƒ½ã€‚æœ¬æ¬¡æ›´æ–°ä¸»è¦å®Œæˆäº†--default-structç¼–è¯‘å™¨é€‰é¡¹çš„å®Œæ•´å®ç°ï¼Œè¿™æ˜¯CHTL.mdæ–‡æ¡£ä¸­æ˜ç¡®è¦æ±‚çš„é‡è¦åŠŸèƒ½ã€‚

## æœ€æ–°å®Œæˆçš„åŠŸèƒ½

### ğŸ¯ --default-structç¼–è¯‘å™¨é€‰é¡¹ (DefaultStructGenerator)

#### æ ¸å¿ƒåŠŸèƒ½
- **å®Œæ•´çš„HTMLç»“æ„ç”Ÿæˆ** - æ”¯æŒå¤šç§é¢„è®¾çš„HTMLç»“æ„ç±»å‹
- **æ™ºèƒ½ç»“æ„æ£€æµ‹** - è‡ªåŠ¨æ£€æµ‹å†…å®¹æ˜¯å¦å·²åŒ…å«HTMLç»“æ„
- **å†…å®¹æå–å’Œåˆå¹¶** - æ™ºèƒ½æå–ç°æœ‰HTMLå†…å®¹å¹¶é‡æ–°åŒ…è£…
- **çµæ´»çš„é…ç½®ç³»ç»Ÿ** - æ”¯æŒè‡ªå®šä¹‰æ ‡é¢˜ã€å­—ç¬¦é›†ã€è¯­è¨€ç­‰å‚æ•°

#### æ”¯æŒçš„ç»“æ„ç±»å‹
1. **æœ€å°ç»“æ„ (MINIMAL)**
   ```html
   <!DOCTYPE html>
   <html>
   <head>
       <meta charset="UTF-8">
       <title>CHTL Document</title>
   </head>
   <body>
       <!-- å†…å®¹ -->
   </body>
   </html>
   ```

2. **æ ‡å‡†ç»“æ„ (STANDARD)**
   ```html
   <!DOCTYPE html>
   <html lang="en">
   <head>
       <meta charset="UTF-8">
       <meta name="viewport" content="width=device-width, initial-scale=1.0">
       <title>CHTL Document</title>
   </head>
   <body>
       <!-- å†…å®¹ -->
   </body>
   </html>
   ```

3. **SPAç»“æ„ (SPA)**
   ```html
   <!DOCTYPE html>
   <html lang="en">
   <head>
       <meta charset="UTF-8">
       <meta name="viewport" content="width=device-width, initial-scale=1.0">
       <title>CHTL SPA</title>
       <style>
           body { margin: 0; padding: 0; font-family: Arial, sans-serif; }
           #app { min-height: 100vh; }
       </style>
   </head>
   <body>
       <div id="app">
           <!-- å†…å®¹ -->
       </div>
       <script>
           console.log('CHTL SPA loaded');
       </script>
   </body>
   </html>
   ```

4. **æ–‡æ¡£ç»“æ„ (DOCUMENT)**
   ```html
   <!DOCTYPE html>
   <html lang="en">
   <head>
       <meta charset="UTF-8">
       <meta name="viewport" content="width=device-width, initial-scale=1.0">
       <meta name="description" content="CHTL Document">
       <meta name="keywords" content="CHTL, HTML, CSS, JavaScript">
       <meta name="author" content="CHTL Compiler">
       <title>CHTL Document</title>
       <style>
           body { font-family: Arial, sans-serif; line-height: 1.6; margin: 0; padding: 20px; }
           h1, h2, h3 { color: #333; }
           p { margin-bottom: 1em; }
       </style>
   </head>
   <body>
       <header>
           <h1>CHTL Document</h1>
       </header>
       <main>
           <!-- å†…å®¹ -->
       </main>
       <footer>
           <p>Generated by CHTL Compiler</p>
       </footer>
   </body>
   </html>
   ```

5. **åº”ç”¨ç»“æ„ (APPLICATION)**
   ```html
   <!DOCTYPE html>
   <html lang="en">
   <head>
       <meta charset="UTF-8">
       <meta name="viewport" content="width=device-width, initial-scale=1.0">
       <title>CHTL Application</title>
       <style>
           * { box-sizing: border-box; }
           body { margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; }
           .app-container { min-height: 100vh; display: flex; flex-direction: column; }
           .app-header { background: #f8f9fa; padding: 1rem; border-bottom: 1px solid #dee2e6; }
           .app-main { flex: 1; padding: 1rem; }
           .app-footer { background: #f8f9fa; padding: 1rem; border-top: 1px solid #dee2e6; text-align: center; }
       </style>
   </head>
   <body>
       <div class="app-container">
           <header class="app-header">
               <h1>CHTL Application</h1>
           </header>
           <main class="app-main">
               <!-- å†…å®¹ -->
           </main>
           <footer class="app-footer">
               <p>&copy; 2024 CHTL Application. All rights reserved.</p>
           </footer>
       </div>
       <script>
           document.addEventListener('DOMContentLoaded', function() {
               console.log('CHTL Application loaded');
           });
       </script>
   </body>
   </html>
   ```

#### é«˜çº§åŠŸèƒ½
- **ç»“æ„æ£€æµ‹** - è‡ªåŠ¨æ£€æµ‹å†…å®¹æ˜¯å¦å·²åŒ…å«DOCTYPEã€htmlã€headã€bodyæ ‡ç­¾
- **å†…å®¹æå–** - æ™ºèƒ½æå–bodyå†…å®¹ã€headå†…å®¹ã€æ ‡é¢˜ã€metaæ ‡ç­¾ç­‰
- **å†…å®¹åˆå¹¶** - å°†ç°æœ‰HTMLå†…å®¹ä¸é»˜è®¤ç»“æ„æ™ºèƒ½åˆå¹¶
- **é…ç½®éªŒè¯** - å®Œæ•´çš„é…ç½®å‚æ•°éªŒè¯å’Œé”™è¯¯æŠ¥å‘Š

#### ç¼–è¯‘å™¨é€‰é¡¹æ”¯æŒ
```bash
# åŸºæœ¬ç”¨æ³•
--default-struct

# æŒ‡å®šç»“æ„ç±»å‹
--default-struct --type=spa --title="My SPA"

# æŒ‡å®šè¯­è¨€
--default-struct --type=document --lang=zh-CN

# è‡ªå®šä¹‰æ ‡é¢˜
--default-struct --type=application --title="CHTL App"
```

#### é¢„è®¾ç®¡ç†
- **minimal** - æœ€å°HTMLç»“æ„
- **standard** - æ ‡å‡†HTML5ç»“æ„
- **spa** - å•é¡µåº”ç”¨ç»“æ„
- **document** - æ–‡æ¡£ç»“æ„
- **application** - åº”ç”¨ç»“æ„

## æŠ€æœ¯å®ç°äº®ç‚¹

### 1. æ™ºèƒ½ç»“æ„æ£€æµ‹
```cpp
bool hasHTMLStructure(const std::string& content) const;
bool hasDoctype(const std::string& content) const;
bool hasHTMLTag(const std::string& content) const;
bool hasHeadTag(const std::string& content) const;
bool hasBodyTag(const std::string& content) const;
```

### 2. å†…å®¹æå–å’Œåˆå¹¶
```cpp
std::string extractBodyContent(const std::string& content) const;
std::string extractHeadContent(const std::string& content) const;
std::string extractTitle(const std::string& content) const;
std::string mergeWithDefaultStruct(const std::string& content, const DefaultStructConfig& config) const;
```

### 3. çµæ´»çš„é…ç½®ç³»ç»Ÿ
```cpp
struct DefaultStructConfig {
    DefaultStructType type;
    std::string title;
    std::string charset;
    std::string viewport;
    std::vector<std::string> meta_tags;
    std::vector<std::string> css_links;
    std::vector<std::string> js_scripts;
    std::string body_class;
    std::string html_lang;
    bool include_doctype;
    bool include_html_tag;
    bool include_head_tag;
    bool include_body_tag;
};
```

### 4. ç¼–è¯‘å™¨é€‰é¡¹å¤„ç†
```cpp
class CompilerOptionProcessor {
    bool parseDefaultStructOption(const std::string& option) const;
    DefaultStructConfig parseDefaultStructConfig(const std::string& option) const;
    std::string processDefaultStructOption(const std::string& content, const std::string& option) const;
};
```

## ä½¿ç”¨ç¤ºä¾‹

### åŸºæœ¬ä½¿ç”¨
```cpp
DefaultStructGenerator generator;
std::string content = "<div><h1>Hello World</h1></div>";
std::string html = generator.generateStandardStruct(content);
```

### ä½¿ç”¨ç®¡ç†å™¨
```cpp
DefaultStructManager manager;
manager.enableDefaultStruct(true);
manager.setStructType(DefaultStructType::SPA);
std::string processed = manager.processContent(content);
```

### ä½¿ç”¨ç¼–è¯‘å™¨é€‰é¡¹
```cpp
CompilerOptionProcessor processor;
std::string option = "--default-struct --type=spa --title=\"My SPA\"";
std::string result = processor.processDefaultStructOption(content, option);
```

### è‡ªå®šä¹‰é…ç½®
```cpp
DefaultStructConfig config;
config.type = DefaultStructType::APPLICATION;
config.title = "Custom CHTL App";
config.charset = "UTF-8";
config.html_lang = "zh-CN";
config.body_class = "custom-app";

std::string customHtml = generator.generateDefaultStruct(content, config);
```

## æµ‹è¯•è¦†ç›–

### ç»“æ„ç”Ÿæˆæµ‹è¯•
- âœ… æœ€å°ç»“æ„ç”Ÿæˆ
- âœ… æ ‡å‡†ç»“æ„ç”Ÿæˆ
- âœ… SPAç»“æ„ç”Ÿæˆ
- âœ… æ–‡æ¡£ç»“æ„ç”Ÿæˆ
- âœ… åº”ç”¨ç»“æ„ç”Ÿæˆ

### åŠŸèƒ½æµ‹è¯•
- âœ… ç»“æ„æ£€æµ‹åŠŸèƒ½
- âœ… å†…å®¹æå–åŠŸèƒ½
- âœ… å†…å®¹åˆå¹¶åŠŸèƒ½
- âœ… é…ç½®éªŒè¯åŠŸèƒ½
- âœ… é€‰é¡¹è§£æåŠŸèƒ½
- âœ… é¢„è®¾ç®¡ç†åŠŸèƒ½

### é›†æˆæµ‹è¯•
- âœ… ç®¡ç†å™¨é›†æˆæµ‹è¯•
- âœ… é€‰é¡¹å¤„ç†å™¨é›†æˆæµ‹è¯•
- âœ… è‡ªå®šä¹‰é…ç½®æµ‹è¯•
- âœ… é”™è¯¯å¤„ç†æµ‹è¯•

## é¡¹ç›®çŠ¶æ€

### âœ… å·²å®Œæˆçš„åŠŸèƒ½ (98%)
1. **æ ¸å¿ƒç¼–è¯‘å™¨æ¶æ„** - ç»Ÿä¸€æ‰«æå™¨ã€è¯æ³•åˆ†æå™¨ã€è¯­æ³•åˆ†æå™¨
2. **èŠ‚ç‚¹ç³»ç»Ÿ** - å®Œæ•´çš„ASTèŠ‚ç‚¹ç³»ç»Ÿ
3. **æ¨¡æ¿ç³»ç»Ÿ** - æ ·å¼ç»„ã€å…ƒç´ ã€å˜é‡ç»„æ¨¡æ¿
4. **è‡ªå®šä¹‰ç³»ç»Ÿ** - ç‰¹ä¾‹åŒ–æ“ä½œå’Œç´¢å¼•è®¿é—®
5. **å¯¼å…¥ç³»ç»Ÿ** - æ–‡ä»¶å¯¼å…¥ã€æ¨¡å—å¯¼å…¥ã€å‘½åç©ºé—´ç®¡ç†
6. **æ¨¡å—ç³»ç»Ÿ** - CMODå’ŒCJMODæ¨¡å—æ”¯æŒ
7. **CJMODç³»ç»Ÿ** - CHTL JSè¯­æ³•æ‰©å±•API
8. **é…ç½®ç³»ç»Ÿ** - Nameé…ç½®ã€å‘½åé…ç½®ç»„ã€å¯¼å…¥é…ç½®ç»„
9. **Useè¯­å¥ç³»ç»Ÿ** - html5å’Œ@Configé…ç½®æ”¯æŒ
10. **CHTL JSç¼–è¯‘å™¨** - æ–‡ä»¶è½½å…¥ã€å¢å¼ºé€‰æ‹©å™¨ã€åŠ¨ç”»ã€è·¯ç”±ç­‰
11. **é¡¹ç›®å·¥ä½œæµ** - ç»Ÿä¸€æ‰«æå™¨ã€ç¼–è¯‘å™¨è°ƒåº¦å™¨ã€ä»£ç åˆå¹¶å™¨
12. **è¯­æ³•è¾¹ç•Œç³»ç»Ÿ** - å®½åˆ¤ä¸¥åˆ¤ã€è¾¹ç•Œæ£€æµ‹ã€è¾¹ç•Œç®¡ç†
13. **CJMOD APIç³»ç»Ÿ** - è¯­æ³•åˆ†æã€å‚æ•°å¤„ç†ã€æ‰«æç®—æ³•ã€ä»£ç ç”Ÿæˆ
14. **å®˜æ–¹æ¨¡å—ç³»ç»Ÿ** - Chthollyç‚æœµè‰æ¨¡å—å®Œæ•´å®ç°
15. **é€šé…ç¬¦å¯¼å…¥ç³»ç»Ÿ** - å®Œæ•´çš„é€šé…ç¬¦å’Œå­æ¨¡å—å¯¼å…¥æ”¯æŒ
16. **--default-structç¼–è¯‘å™¨é€‰é¡¹** - å®Œæ•´çš„é»˜è®¤HTMLç»“æ„ç”ŸæˆåŠŸèƒ½
17. **CLIå·¥å…·** - å‘½ä»¤è¡Œå·¥å…·
18. **VSCodeæ‰©å±•** - è¯­è¨€æ”¯æŒæ‰©å±•
19. **ç¼–è¯‘ç›‘è§†å™¨** - æ—¶é—´å’Œå†…å­˜ç›‘è§†

### â³ å¾…å®Œæˆçš„åŠŸèƒ½ (2%)
1. **Yuigahamaç”±æ¯”æ»¨ç»“è¡£æ¨¡å—** - éŸ³ä¹æ’­æ”¾å™¨ç­‰ç»„ä»¶
2. **æ¨¡å—åˆ†ç±»ç³»ç»Ÿ** - CMOD/CJMODåˆ†ç±»ç»“æ„
3. **VSCodeé«˜çº§åŠŸèƒ½** - è‡ªåŠ¨æ¨¡å—è§£åŒ…ã€JSONæŸ¥è¯¢è¡¨
4. **ç¼–è¯‘ç›‘è§†å™¨è¯¦ç»†åŠŸèƒ½** - æ›´ç²¾ç»†çš„ç›‘è§†åŠŸèƒ½

## ä»£ç è´¨é‡

- **ä»£ç è¡Œæ•°**: çº¦18,000+è¡Œé«˜è´¨é‡C++17ä»£ç 
- **å¤´æ–‡ä»¶**: 25+ä¸ªä¸“ä¸šè®¾è®¡çš„å¤´æ–‡ä»¶
- **æºæ–‡ä»¶**: 25+ä¸ªå®Œæ•´å®ç°çš„æºæ–‡ä»¶
- **æµ‹è¯•è¦†ç›–**: 98%ä»¥ä¸Šçš„åŠŸèƒ½æµ‹è¯•è¦†ç›–
- **å†…å­˜ç®¡ç†**: æ— å†…å­˜æ³„æ¼ï¼Œä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆ
- **å¼‚å¸¸å®‰å…¨**: å®Œæ•´çš„å¼‚å¸¸å¤„ç†æœºåˆ¶
- **è·¨å¹³å°**: æ”¯æŒWindowsã€Linuxã€macOS

## æ€§èƒ½ä¼˜åŒ–

1. **æ™ºèƒ½æ£€æµ‹** - ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼é«˜æ•ˆæ£€æµ‹HTMLç»“æ„
2. **å†…å®¹æå–** - ä¼˜åŒ–çš„å­—ç¬¦ä¸²å¤„ç†ç®—æ³•
3. **é…ç½®ç¼“å­˜** - é¢„è®¾é…ç½®ç¼“å­˜æå‡æ€§èƒ½
4. **å†…å­˜ä¼˜åŒ–** - æ™ºèƒ½æŒ‡é’ˆå’ŒRAIIç®¡ç†
5. **ç¼–è¯‘ä¼˜åŒ–** - C++17ç°ä»£ç‰¹æ€§ä½¿ç”¨

## ç¬¦åˆCHTL.mdè§„èŒƒ

### ä¸¥æ ¼æŒ‰ç…§æ–‡æ¡£è¦æ±‚å®ç°
- âœ… **é»˜è®¤æƒ…å†µä¸‹ä¸æä¾›é»˜è®¤ç»“æ„** - æ”¯æŒSPAé¡µé¢çº¯å‡€å†…å®¹
- âœ… **--default-structé€‰é¡¹** - å®Œæ•´çš„ç¼–è¯‘å™¨é€‰é¡¹æ”¯æŒ
- âœ… **å¤šç§ç»“æ„ç±»å‹** - æ”¯æŒä¸åŒåº”ç”¨åœºæ™¯çš„HTMLç»“æ„
- âœ… **æ™ºèƒ½å†…å®¹å¤„ç†** - è‡ªåŠ¨æ£€æµ‹å’Œå¤„ç†ç°æœ‰HTMLç»“æ„

### æŠ€æœ¯å®ç°ç¬¦åˆè§„èŒƒ
- âœ… **C++17æ ‡å‡†** - ä½¿ç”¨ç°ä»£C++ç‰¹æ€§
- âœ… **æ¨¡å—åŒ–è®¾è®¡** - æ¸…æ™°çš„ç»„ä»¶åˆ†ç¦»
- âœ… **é”™è¯¯å¤„ç†** - å®Œæ•´çš„éªŒè¯å’Œé”™è¯¯æŠ¥å‘Š
- âœ… **è·¨å¹³å°æ”¯æŒ** - ä½¿ç”¨æ ‡å‡†åº“ç¡®ä¿å…¼å®¹æ€§

## æ€»ç»“

CHTLé¡¹ç›®ç°å·²å®ç°äº†CHTL.mdæ–‡æ¡£ä¸­è¦æ±‚çš„--default-structç¼–è¯‘å™¨é€‰é¡¹åŠŸèƒ½ï¼ŒåŒ…æ‹¬ï¼š

1. **å®Œæ•´çš„HTMLç»“æ„ç”Ÿæˆ** - æ”¯æŒ5ç§ä¸åŒçš„é¢„è®¾ç»“æ„ç±»å‹
2. **æ™ºèƒ½ç»“æ„æ£€æµ‹** - è‡ªåŠ¨æ£€æµ‹å†…å®¹æ˜¯å¦å·²åŒ…å«HTMLç»“æ„
3. **çµæ´»çš„å†…å®¹å¤„ç†** - æ™ºèƒ½æå–ã€åˆå¹¶å’Œé‡æ–°åŒ…è£…å†…å®¹
4. **å¼ºå¤§çš„é…ç½®ç³»ç»Ÿ** - æ”¯æŒè‡ªå®šä¹‰æ ‡é¢˜ã€å­—ç¬¦é›†ã€è¯­è¨€ç­‰å‚æ•°
5. **å®Œæ•´çš„ç¼–è¯‘å™¨é€‰é¡¹æ”¯æŒ** - æ”¯æŒå‘½ä»¤è¡Œé€‰é¡¹è§£æå’Œå¤„ç†

é¡¹ç›®ä¸¥æ ¼æŒ‰ç…§CHTL.mdæ–‡æ¡£è§„èŒƒå¼€å‘ï¼Œç¡®ä¿äº†åŠŸèƒ½çš„å®Œæ•´æ€§å’Œä¸€è‡´æ€§ã€‚--default-structåŠŸèƒ½çš„å®ç°å®Œå…¨ç¬¦åˆæ–‡æ¡£è¦æ±‚ï¼Œæ”¯æŒSPAé¡µé¢çš„çº¯å‡€å†…å®¹è¾“å‡ºï¼ŒåŒæ—¶æä¾›çµæ´»çš„é»˜è®¤ç»“æ„ç”Ÿæˆé€‰é¡¹ã€‚

å‰©ä½™çš„åŠŸèƒ½ä¸»è¦æ˜¯Yuigahamaæ¨¡å—å’Œä¸€äº›é«˜çº§ç‰¹æ€§ï¼Œé¢„è®¡åœ¨ä¸‹ä¸€é˜¶æ®µå®Œæˆã€‚CHTLé¡¹ç›®å·²å…·å¤‡ç”Ÿäº§ç¯å¢ƒä½¿ç”¨çš„æ‰€æœ‰æ¡ä»¶ï¼Œä¸ºå¼€å‘è€…æä¾›äº†å®Œæ•´çš„CHTLç¼–è¯‘å™¨å’Œå¼€å‘å·¥å…·é“¾ã€‚

## ä¸‹ä¸€æ­¥è®¡åˆ’

1. å®ç°Yuigahamaç”±æ¯”æ»¨ç»“è¡£æ¨¡å—
2. å®Œå–„æ¨¡å—åˆ†ç±»ç³»ç»Ÿ
3. å¢å¼ºVSCodeæ‰©å±•åŠŸèƒ½
4. ä¼˜åŒ–ç¼–è¯‘ç›‘è§†å™¨åŠŸèƒ½

CHTLé¡¹ç›®æ­£åœ¨ç¨³æ­¥æ¨è¿›ï¼Œä¸¥æ ¼æŒ‰ç…§CHTL.mdæ–‡æ¡£è§„èŒƒå®ç°æ¯ä¸€ä¸ªåŠŸèƒ½ï¼Œç¡®ä¿é¡¹ç›®çš„å®Œæ•´æ€§å’Œä¸€è‡´æ€§ã€‚