cmake_minimum_required(VERSION 3.16)
project(CHTL_Test VERSION 1.0.0 LANGUAGES CXX)

# 设置C++标准
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

# 设置编译选项
set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wall -Wextra -O2")
set(CMAKE_CXX_FLAGS_DEBUG "${CMAKE_CXX_FLAGS_DEBUG} -g -O0")

# 包含目录
include_directories(${CMAKE_SOURCE_DIR})

# 源文件
set(SOURCES
    CHTL/CHTLLexer/Token.cpp
    CHTL/CHTLLexer/CHTLLexer.cpp
    CHTL/CHTLNode/BaseNode.cpp
    CHTL/CHTLNode/ElementNode.cpp
    CHTL/CHTLNode/TextNode.cpp
    Scanner/CHTLUnifiedScanner.cpp
    CodeMerger/CodeMerger.cpp
    CompilerDispatcher/CompilerDispatcher.cpp
)

# 创建测试可执行文件
add_executable(chtl_test
    test_main.cpp
    ${SOURCES}
)

# 链接库
target_link_libraries(chtl_test)