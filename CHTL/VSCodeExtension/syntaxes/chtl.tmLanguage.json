{
  "scopeName": "source.chtl",
  "name": "CHTL",
  "patterns": [
    {
      "include": "#comments"
    },
    {
      "include": "#keywords"
    },
    {
      "include": "#operators"
    },
    {
      "include": "#strings"
    },
    {
      "include": "#numbers"
    },
    {
      "include": "#identifiers"
    },
    {
      "include": "#html-elements"
    },
    {
      "include": "#chtl-blocks"
    },
    {
      "include": "#selectors"
    }
  ],
  "repository": {
    "comments": {
      "patterns": [
        {
          "name": "comment.line.double-slash.chtl",
          "begin": "//",
          "end": "$"
        },
        {
          "name": "comment.block.chtl",
          "begin": "/\\*",
          "end": "\\*/"
        },
        {
          "name": "comment.generator.chtl",
          "begin": "--",
          "end": "$"
        }
      ]
    },
    "keywords": {
      "patterns": [
        {
          "name": "keyword.control.chtl",
          "match": "\\b(fileloader|listen|delegate|animate|vir|router|util|iNeverAway|text|style|script|use|except|delete|insert|inherit|from|as|after|before|replace|at|top|bottom)\\b"
        },
        {
          "name": "keyword.other.chtl",
          "match": "\\b(Template|Custom|Origin|Import|Namespace|Configuration|Info|Export)\\b"
        },
        {
          "name": "keyword.operator.chtl",
          "match": "\\b(and|or|not|in|is|as)\\b"
        }
      ]
    },
    "operators": {
      "patterns": [
        {
          "name": "keyword.operator.chtl",
          "match": "(->|\\+\\+|--|\\+|-|\\*|/|%|==|!=|<=|>=|<|>|&&|\\|\\||!|\\?|:|=)"
        }
      ]
    },
    "strings": {
      "patterns": [
        {
          "name": "string.quoted.double.chtl",
          "begin": "\"",
          "end": "\"",
          "patterns": [
            {
              "name": "constant.character.escape.chtl",
              "match": "\\\\."
            }
          ]
        },
        {
          "name": "string.quoted.single.chtl",
          "begin": "'",
          "end": "'",
          "patterns": [
            {
              "name": "constant.character.escape.chtl",
              "match": "\\\\."
            }
          ]
        },
        {
          "name": "string.unquoted.chtl",
          "match": "\\b[a-zA-Z_][a-zA-Z0-9_]*\\b(?=\\s*[:=])"
        }
      ]
    },
    "numbers": {
      "patterns": [
        {
          "name": "constant.numeric.chtl",
          "match": "\\b\\d+\\.\\d+\\b"
        },
        {
          "name": "constant.numeric.chtl",
          "match": "\\b\\d+\\b"
        }
      ]
    },
    "identifiers": {
      "patterns": [
        {
          "name": "variable.other.chtl",
          "match": "\\b[a-zA-Z_][a-zA-Z0-9_]*\\b"
        }
      ]
    },
    "html-elements": {
      "patterns": [
        {
          "name": "entity.name.tag.chtl",
          "match": "\\b(html|head|body|title|meta|link|script|style|div|span|p|h[1-6]|ul|ol|li|a|img|button|input|form|label|select|option|table|tr|td|th|thead|tbody|tfoot|section|article|header|footer|nav|aside|main|figure|figcaption|details|summary|dialog|canvas|svg|video|audio|source|track|embed|object|param|iframe|noscript|template|slot)\\b"
        }
      ]
    },
    "chtl-blocks": {
      "patterns": [
        {
          "name": "meta.block.template.chtl",
          "begin": "\\[Template\\]",
          "end": "\\}",
          "patterns": [
            {
              "include": "#chtl-blocks"
            },
            {
              "include": "#strings"
            },
            {
              "include": "#comments"
            }
          ]
        },
        {
          "name": "meta.block.custom.chtl",
          "begin": "\\[Custom\\]",
          "end": "\\}",
          "patterns": [
            {
              "include": "#chtl-blocks"
            },
            {
              "include": "#strings"
            },
            {
              "include": "#comments"
            }
          ]
        },
        {
          "name": "meta.block.import.chtl",
          "begin": "\\[Import\\]",
          "end": ";",
          "patterns": [
            {
              "include": "#strings"
            },
            {
              "include": "#comments"
            }
          ]
        },
        {
          "name": "meta.block.namespace.chtl",
          "begin": "\\[Namespace\\]",
          "end": "\\}",
          "patterns": [
            {
              "include": "#chtl-blocks"
            },
            {
              "include": "#strings"
            },
            {
              "include": "#comments"
            }
          ]
        },
        {
          "name": "meta.block.configuration.chtl",
          "begin": "\\[Configuration\\]",
          "end": "\\}",
          "patterns": [
            {
              "include": "#chtl-blocks"
            },
            {
              "include": "#strings"
            },
            {
              "include": "#comments"
            }
          ]
        },
        {
          "name": "meta.block.style.chtl",
          "begin": "\\bstyle\\b\\s*\\{",
          "end": "\\}",
          "patterns": [
            {
              "include": "#css-properties"
            },
            {
              "include": "#selectors"
            },
            {
              "include": "#strings"
            },
            {
              "include": "#comments"
            }
          ]
        },
        {
          "name": "meta.block.script.chtl",
          "begin": "\\bscript\\b\\s*\\{",
          "end": "\\}",
          "patterns": [
            {
              "include": "#javascript"
            },
            {
              "include": "#selectors"
            },
            {
              "include": "#strings"
            },
            {
              "include": "#comments"
            }
          ]
        }
      ]
    },
    "selectors": {
      "patterns": [
        {
          "name": "meta.selector.chtl",
          "begin": "\\{\\{",
          "end": "\\}\\}",
          "patterns": [
            {
              "include": "#css-selectors"
            }
          ]
        }
      ]
    },
    "css-properties": {
      "patterns": [
        {
          "name": "support.type.property-name.css",
          "match": "\\b[a-zA-Z-]+\\s*:"
        }
      ]
    },
    "css-selectors": {
      "patterns": [
        {
          "name": "entity.name.tag.css",
          "match": "\\b[a-zA-Z][a-zA-Z0-9-]*\\b"
        },
        {
          "name": "entity.other.attribute-name.class.css",
          "match": "\\.[a-zA-Z][a-zA-Z0-9-]*"
        },
        {
          "name": "entity.other.attribute-name.id.css",
          "match": "#[a-zA-Z][a-zA-Z0-9-]*"
        },
        {
          "name": "entity.other.attribute-name.pseudo-class.css",
          "match": ":[a-zA-Z][a-zA-Z0-9-]*"
        }
      ]
    },
    "javascript": {
      "patterns": [
        {
          "name": "keyword.control.js",
          "match": "\\b(if|else|for|while|do|switch|case|default|break|continue|return|try|catch|finally|throw|new|delete|typeof|instanceof|in|of|with|var|let|const|function|class|extends|import|export|from|as|default|async|await|yield|generator|static|public|private|protected|abstract|interface|enum|namespace|module|declare|type|implements|extends|super|this|arguments|undefined|null|true|false|NaN|Infinity)\\b"
        },
        {
          "name": "support.function.js",
          "match": "\\b(console|alert|confirm|prompt|parseInt|parseFloat|isNaN|isFinite|eval|escape|unescape|encodeURI|decodeURI|encodeURIComponent|decodeURIComponent|setTimeout|setInterval|clearTimeout|clearInterval|requestAnimationFrame|cancelAnimationFrame|addEventListener|removeEventListener|dispatchEvent|querySelector|querySelectorAll|getElementById|getElementsByClassName|getElementsByTagName|createElement|createTextNode|appendChild|removeChild|insertBefore|replaceChild|cloneNode|getAttribute|setAttribute|removeAttribute|hasAttribute|getComputedStyle|getBoundingClientRect|scrollIntoView|focus|blur|click|submit|reset|select|change|input|keydown|keyup|keypress|mousedown|mouseup|mousemove|mouseover|mouseout|mouseenter|mouseleave|wheel|scroll|resize|load|unload|beforeunload|error|abort|focus|blur|change|input|submit|reset|select|contextmenu|dblclick|drag|dragend|dragenter|dragleave|dragover|dragstart|drop|touchstart|touchend|touchmove|touchcancel|gesturestart|gesturechange|gestureend)\\b"
        }
      ]
    }
  ]
}