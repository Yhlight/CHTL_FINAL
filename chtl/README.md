# CHTL - 基于C++的超文本语言

## 项目概述

CHTL是基于C++语言实现的超文本语言，其本质是为了提供一种更符合开发者编写HTML代码的方式，使用MIT开源协议。

## 当前实现状态

### ✅ 已完成功能

1. **项目初始化和环境搭建** - 创建了完整的C++项目结构，配置了CMake构建系统
2. **词法分析器** - 支持注释、文本节点、字面量、元素节点、属性等基础语法
3. **语法分析器** - 构建AST，支持元素嵌套、属性解析、基础语法结构
4. **基础代码生成器** - 将AST转换为HTML代码

### 🔄 进行中功能

- 样式系统（局部样式块、内联样式等）
- 模板系统（样式组模板、元素模板等）
- 自定义系统（自定义样式组、自定义元素等）

### 📋 待实现功能

- 导入和命名空间系统
- 原始嵌入系统
- 约束和配置系统
- CHTL JS编译器
- 模块系统
- CJMOD API
- 统一扫描器
- 代码合并器
- CLI工具
- VSCode扩展
- 测试系统
- 文档和示例

## 技术栈

- **主要语言**: C++17
- **构建系统**: CMake
- **编译器**: GCC/Clang
- **架构**: 词法分析器 → 语法分析器 → AST → 代码生成器

## 项目结构

```
chtl/
├── src/
│   ├── CHTL/                    # CHTL核心编译器
│   │   ├── CHTLContext.h/cpp    # 编译上下文
│   │   ├── CHTLLexer.h/cpp      # 词法分析器
│   │   ├── CHTLParser.h/cpp     # 语法分析器
│   │   ├── CHTLGenerator.h/cpp  # 代码生成器
│   │   ├── Token.h/cpp          # Token定义
│   │   ├── ASTNode.h/cpp        # AST节点
│   │   └── ASTVisitor.h/cpp     # AST访问者
│   ├── CHTLJS/                  # CHTL JS编译器
│   ├── CSS/                     # CSS编译器
│   ├── JS/                      # JS编译器
│   ├── Scanner/                 # 统一扫描器
│   ├── CodeMerger/              # 代码合并器
│   ├── CompilerDispatcher/      # 编译器调度器
│   ├── Util/                    # 工具类
│   └── main.cpp                 # 主程序
├── include/                     # 头文件
├── test/                        # 测试文件
├── examples/                    # 示例文件
├── modules/                     # 模块文件
├── doc/                         # 文档
├── CMakeLists.txt              # CMake配置
└── build.sh                    # 构建脚本
```

## 使用方法

### 编译项目

```bash
cd chtl
./build.sh
```

### 运行编译器

```bash
./build/chtl input.chtl output.html
```

### 示例CHTL代码

```chtl
html
{
    head
    {
        title
        {
            text
            {
                CHTL测试页面
            }
        }
    }
    
    body
    {
        div
        {
            id: main;
            class: container;
            
            h1
            {
                text
                {
                    欢迎使用CHTL
                }
            }
            
            p
            {
                text
                {
                    CHTL是基于C++语言实现的超文本语言
                }
            }
        }
    }
}
```

## 核心特性

### 1. 基础语法
- 支持所有HTML元素
- 文本节点：`text { "内容" }`
- 属性：`属性名: "属性值";`
- 注释：`//` 单行注释，`/**/` 多行注释

### 2. 字面量支持
- 无修饰字面量（无引号字符串）
- 双引号字符串 `""`
- 单引号字符串 `''`

### 3. CE对等式
- `:` 与 `=` 完全等价

### 4. 元素嵌套
- 支持任意深度的元素嵌套
- 自动处理开闭标签

## 开发计划

### Phase 1: 基础功能 ✅
- [x] 词法分析器
- [x] 语法分析器
- [x] 基础代码生成器

### Phase 2: 样式系统 🔄
- [ ] 局部样式块
- [ ] 内联样式
- [ ] 自动化类名/id
- [ ] 上下文推导
- [ ] 属性运算

### Phase 3: 模板系统 📋
- [ ] 样式组模板
- [ ] 元素模板
- [ ] 变量组模板
- [ ] 组合继承

### Phase 4: 高级功能 📋
- [ ] 自定义系统
- [ ] 导入和命名空间
- [ ] 原始嵌入
- [ ] 约束和配置

### Phase 5: CHTL JS 📋
- [ ] CHTL JS编译器
- [ ] 虚对象
- [ ] 增强选择器
- [ ] 动画和路由

### Phase 6: 模块系统 📋
- [ ] CMOD系统
- [ ] CJMOD系统
- [ ] 混合模块
- [ ] 通配符导入

### Phase 7: 工具和扩展 📋
- [ ] CLI工具
- [ ] VSCode扩展
- [ ] 测试系统
- [ ] 文档和示例

## 贡献指南

1. Fork 项目
2. 创建功能分支
3. 提交更改
4. 推送到分支
5. 创建 Pull Request

## 许可证

MIT License

## 联系方式

项目维护者：[您的姓名]
邮箱：[您的邮箱]