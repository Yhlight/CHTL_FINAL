html {
    body {
        div {
            id: "container";
            button {
                class: "action-btn";
                text: "Button 1";
            }
            button {
                class: "action-btn";
                text: "Button 2";
            }
        }

        script {
            // This sets up the event delegation
            {{#container}}->delegate {
                target: [{{.action-btn}}],
                click: (event) => {
                    console.log(event.target.textContent + " was clicked!");
                }
            }

            // This script will add a new button after a delay,
            // proving that the delegation works for dynamic elements.
            () => {
                setTimeout(() => {
                    const newBtn = document.createElement("button");
                    newBtn.className = "action-btn";
                    newBtn.textContent = "Button 3 (Dynamic)";
                    document.getElementById("container").appendChild(newBtn);
                }, 100);
            }();
        }
    }
}
